/*!build time : 2015-01-05 5:11:24 PM*/
KISSY.add("kg/tooltip/2.2.0/index",function(a,b){var c=".J_TooltipArrow",d="center",e="center",f=0,g={top:"arrow-top",left:"arrow-left",right:"arrow-right",bottom:"arrow-bottom"},h=200,i="data-hide-timer";return{attach:function(a){var c=this,d=b.all(a.trigger),e=b.all(a.tooltip),f=a.onShow;d.each(function(d){d=b.one(d);var g=b.one(d.all(a.refer))||d;a.onShow=function(b,d){c.locate(g,e,a),f&&f(b,d)},c.connect(d,e,a)})},freeze:function(a){var c=b.one(a.tooltip),d=b.one(a.refer);this.locate(d,c,a),b.one(c).show()},connect:function(a,c,d){a=b.one(a),c=b.one(c),d=d||{};var e=d.onHide,f=d.onShow,g=d.beforeShow;a.on("mouseenter",function(){g&&g(a,c),f&&f(a,c),clearTimeout(c.attr(i)),c.show()}),a.on("mouseleave",function(){c.attr(i,setTimeout(function(){e&&e(a,c),c.hide()},h))}),c.on("mouseover",function(){c.show(),clearTimeout(c.attr(i))}),c.on("mouseleave",function(){e&&e(a,c),c.hide()})},locate:function(h,i,j){h=b.one(h),i=b.one(i),j=j||{};var k=b.one(j.container),l=j.position;i.css({visibility:"hidden",position:"absolute"}),i.show();var m=j.gap||f,n=j.arrowHook||c,o=j.arrowAlign||d,p=j.align||e,q=i.all(n),r=b.one(window).height(),s=b.one(window).width(),t=a.DOM.scrollTop(),u=a.DOM.scrollLeft();k&&(r=k.outerHeight(),s=k.outerWidth(),t=k.scrollTop(),u=k.scrollLeft());var v=h.offset(),w=h.outerWidth(),x=h.outerHeight();k&&(v.left=v.left-k.offset().left,v.top=v.top-k.offset().top);var y=i.outerWidth(),z=i.outerHeight(),A=q.outerWidth(),B=q.outerHeight()/2;i.hide(),i.css("visibility","visible");var C={top:null,left:null,arrowPos:null,arrowTop:null,arrowLeft:null},D={};if(C={},C.top=v.top+x+m+B,C.left="center"==p?v.left+(w-y)/2:"left"==p?v.left:v.left+(w-y),C.arrowPos="top",C.arrowLeft="center"==o?v.left+w/2-A/2:"left"==o?v.left-A/2:v.left+w-A/2,D.bottom=C,C={},C.top=v.top-m-z-B,C.left="center"==p?v.left+(w-y)/2:"left"==p?v.left:v.left+(w-y),C.arrowPos="bottom",C.arrowLeft="center"==o?v.left+w/2-A/2:"left"==o?v.left-A/2:v.left+w-A/2,D.top=C,C={},C.left=v.left-m-y-A,C.top="center"==p?v.top+(x-z)/2:"left"==p?v.top:v.top+(x-z),C.arrowPos="right",C.arrowTop="center"==o?v.top+x/2-B/2:"left"==o?v.top-B/2:v.top+x-B/2,D.left=C,C={},C.left=v.left+w+m+A,C.top="center"==p?v.top+(x-z)/2:"left"==p?v.top:v.top+(x-z),C.arrowPos="left",C.arrowTop="center"==o?v.top+x/2-B/2:"left"==o?v.top-B/2:v.top+x-B/2,D.right=C,l&&D[l])C=D[l];else{var E,F,G,H;for(E in D)C=D[E],F=this._calculateArea(t,u,s,r,C.top,C.left,y,z),F=F.area,(!H||F>G)&&(H=E,G=F);C=D[H]}null!==C.arrowTop&&(C.top>C.arrowTop&&(C.arrowTop=C.top+B),C.arrowTop+B>C.top+z&&(C.arrowTop=C.top+z-3*B)),null!==C.arrowTop&&(C.arrowTop=C.arrowTop-C.top),null!==C.arrowLeft&&(C.left>C.arrowLeft&&(C.arrowLeft=C.left+A),C.arrowLeft+A>C.left+y&&(C.arrowLeft=C.left+y-3*A)),null!==C.arrowLeft&&(C.arrowLeft=C.arrowLeft-C.left),k?(k.css("position","relative"),k.append(i)):b.one(document.body).append(i),i.css({top:C.top,left:C.left}),q.removeClass(g.top),q.removeClass(g.left),q.removeClass(g.right),q.removeClass(g.bottom),q.addClass(g[C.arrowPos]),q.css({top:C.arrowTop||"",left:C.arrowLeft||""})},_calculateArea:function(a,b,c,d,e,f,g,h){var i=e>a?e:a,j=i==e,k=f>b?f:b,l=k==f,m=a+d>e+h?e+h:a+d,n=m==e+h,o=b+c>f+g?f+g:b+c,p=o==f+g;return{area:(o-k)*(m-i),ifIn:j&&l&&n&&p}}}},{requires:["node"]});